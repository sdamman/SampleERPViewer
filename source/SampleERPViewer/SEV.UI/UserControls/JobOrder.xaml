<UserControl x:Class="SEV.UI.UserControls.JobOrder"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:conv="clr-namespace:SEV.UI.Converters"
             xmlns:theme="clr-namespace:CustomT.UI"
             xmlns:uc="clr-namespace:SEV.UI.UserControls"
             mc:Ignorable="d" d:Background="White"
             d:DesignHeight="450" d:DesignWidth="800">

  <UserControl.Resources>
    <BooleanToVisibilityConverter x:Key="B2VC"/>
    <Style TargetType="{x:Type TextBlock}" BasedOn="{StaticResource bodyCopy}">
      <Setter Property="Margin" Value="4,1"/>
      <Setter Property="VerticalAlignment" Value="Bottom"/>
    </Style>
    <Style TargetType="{x:Type TextBox}" BasedOn="{StaticResource TextBoxStyle}">
      <Setter Property="VerticalContentAlignment" Value="Center"/>
    </Style>
    <Style TargetType="{x:Type RadioButton}" BasedOn="{StaticResource RadioButtonStyle}">
      <Setter Property="Margin" Value="5,0"/>
    </Style>
  </UserControl.Resources>

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <Border Grid.Row="0" Margin="2,0">
      <StackPanel Margin="10">
        <StackPanel Orientation="Horizontal" Margin="5,0">
          <TextBlock Text="Search:" VerticalAlignment="Center"
                     Style="{DynamicResource bodyCopy}" Margin="15,0,8,0"/>
          <TextBox Height="25" MinWidth="150"
                   VerticalContentAlignment="Center"
                   Text="{Binding SearchParameter, Mode=TwoWay,
                    UpdateSourceTrigger=PropertyChanged}"
                   Style="{DynamicResource TextBoxSearch}"
                   d:Style="{StaticResource TextBoxSearch}"
                   AcceptsReturn="False"
                   AcceptsTab="False">
            <TextBox.InputBindings>
              <KeyBinding Command="{Binding CommandSearchJobOrder}" Key="Return"
                          CommandParameter="{Binding SearchParameter}"/>
            </TextBox.InputBindings>
            <TextBox.ToolTip>
              <Border Background="{theme:ThemeResource ResourceKey=MaxContrast}">
                <TextBlock Text="No wildcards needed." Margin="10"/>
              </Border>
            </TextBox.ToolTip>
          </TextBox>
          <Button Style="{DynamicResource ButtonSearch}"
                  Height="25" Margin="-1,0,0,0"
                  MinWidth="22"
                  Command="{Binding CommandSearchJobOrder}" 
                  CommandParameter="{Binding SearchParameter}"
                  Padding="3"
                  IsEnabled="{Binding AreButtonsEnabled}"
                  IsDefault="True">
          </Button>
        </StackPanel>
        <StackPanel Orientation="Horizontal" Margin="5,8">
          <RadioButton Content="by Job Order" IsChecked="{Binding IsJobOrder}"/>
          <RadioButton Content="by Sales Order" IsChecked="{Binding IsSalesOrder}"/>
          <RadioButton Content="by Part Number" IsChecked="{Binding IsPartNumber}"/>
        </StackPanel>

      </StackPanel>
    </Border>

    <uc:JobOrderDetail Grid.Row="1"
                     Visibility="{Binding IsJobOrderDetailVisible,
                      Converter={StaticResource B2VC}}"/>
    <uc:JobOrderList Grid.Row="1"
                     Visibility="{Binding IsJobOrderListVisible,
                      Converter={StaticResource B2VC}}"/>

  </Grid>
</UserControl>
