<UserControl x:Class="SEV.UI.UserControls.BomList"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:conv="clr-namespace:SEV.UI.Converters"
             xmlns:theme="clr-namespace:CustomT.UI"
             xmlns:uc="clr-namespace:SEV.UI.UserControls"
             mc:Ignorable="d" d:Background="White"
             d:DesignHeight="450" d:DesignWidth="800">

  <UserControl.Resources>
    <conv:CurrencyDisplayConverter x:Key="cDC"/>
  </UserControl.Resources>

  <Grid Margin="20,0">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>
    <Border Background="{theme:ThemeResource ResourceKey=MouseOverBackground}"
                Margin="-5,0,-5,2"/>
    <StackPanel Orientation="Horizontal" Grid.Row="0">
      <TextBlock Text="Bill of Material" 
               FontFamily="Segoe UI Semibold" 
               FontSize="24"
               Foreground="{StaticResource brushMainThemeBlue}"/>
      <Button Style="{DynamicResource ButtonCopy}" 
              Height="25" Margin="4,0,4,0"
              Command="{Binding CommandCopyBom}"/>
    </StackPanel>
    <uc:CurrentDate HorizontalAlignment="Right" VerticalAlignment="Bottom"/>
    <Border Grid.Row="1" BorderBrush="{theme:ThemeResource ResourceKey=MaxContrast}"
            d:BorderBrush="Black" BorderThickness="0,0,0,1">
      <Grid Margin="0,0,18,0">
        <Grid.Resources>
          <Style TargetType="{x:Type TextBlock}" BasedOn="{StaticResource bodyCopy}">
            <Setter Property="Foreground" Value="{theme:ThemeResource ResourceKey=Complement}"/>
          </Style>
        </Grid.Resources>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="1.8*"/>
          <ColumnDefinition Width="1.2*"/>
          <ColumnDefinition Width="2*"/>
          <ColumnDefinition Width="1.2*"/>
          <ColumnDefinition Width="7*"/>
          <ColumnDefinition Width="1*"/>
          <ColumnDefinition Width="1*"/>
          <ColumnDefinition Width="2*"/>
          <ColumnDefinition Width="1.5*"/>
          <ColumnDefinition Width="1*"/>
        </Grid.ColumnDefinitions>
        <TextBlock Grid.Column="0" Text="Parent"/>
        <TextBlock Grid.Column="1" Text="Parent Rev"/>
        <TextBlock Grid.Column="2" Text="P/N" Margin="3,0"/>
        <TextBlock Grid.Column="3" Text="Part Rev"/>
        <TextBlock Grid.Column="4" Text="Description"/>
        <TextBlock Grid.Column="5" Text="QTY"/>
        <TextBlock Grid.Column="6" Text="UOM"/>
        <TextBlock Grid.Column="7" Text="StdCst"/>
        <TextBlock Grid.Column="8" Text="OnHand"/>
        <TextBlock Grid.Column="9" Text="Bin"/>
      </Grid>
    </Border>
    <ScrollViewer Grid.Row="2">
      <ItemsControl ItemsSource="{Binding BomList, FallbackValue='1'}"
                    AlternationCount="2">
        <ItemsControl.ItemTemplate>
          <DataTemplate>
            <DataTemplate.Resources>
              <Style TargetType="{x:Type TextBlock}" BasedOn="{StaticResource bodyCopy}"/>
            </DataTemplate.Resources>

            <Grid x:Name="content">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1.8*"/>
                <ColumnDefinition Width="1.2*"/>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="1.2*"/>
                <ColumnDefinition Width="7*"/>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="1.5*"/>
                <ColumnDefinition Width="1*"/>
              </Grid.ColumnDefinitions>
              <TextBlock Grid.Column="0" Text="{Binding Parent, FallbackValue='551357'}"/>
              <TextBlock Grid.Column="1" Text="{Binding ParentRevision, FallbackValue='000'}"/>
              <Expander Grid.Column="2"
                          Style="{StaticResource ExpanderButton}"
                          Header="{Binding PartNumber, FallbackValue='3031278A'}"
                          Margin="1">
                <uc:PartNumberBox Tag="{Binding PartNumber}"/>
              </Expander>
              <TextBlock Grid.Column="3" Text="{Binding PartRev, FallbackValue='000'}"/>
              <TextBlock Grid.Column="4" Text="{Binding Description, FallbackValue='DESCRIPTION\,LONG\,CHARACTERS'}"/>
              <TextBlock Grid.Column="5" Text="{Binding Quantity, FallbackValue='0.00'}"/>
              <TextBlock Grid.Column="6" Text="{Binding UnitOfMeasure, FallbackValue='EA'}"/>
              <TextBlock Grid.Column="7" Text="{Binding StandardCost, 
              Converter={StaticResource cDC}, FallbackValue='$345.67'}"/>
              <TextBlock Grid.Column="8" Text="{Binding QuantityOnHand, FallbackValue='0.00'}"/>
              <TextBlock Grid.Column="9" Text="{Binding Location}"/>
            </Grid>
            <DataTemplate.Triggers>
              <Trigger Property="ItemsControl.AlternationIndex"
										 Value="1">
                <Setter TargetName="content" 
											Property="Background"
											Value="{theme:ThemeResource ResourceKey=MinContrast}"/>
              </Trigger>
            </DataTemplate.Triggers>
          </DataTemplate>
        </ItemsControl.ItemTemplate>
      </ItemsControl>
    </ScrollViewer>
  </Grid>
</UserControl>
