<Window x:Class="SEV.UI.Windows.WndMain"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
				xmlns:theme="clr-namespace:CustomT.UI"
        xmlns:uc="clr-namespace:SEV.UI.UserControls"
				xmlns:conv="clr-namespace:SEV.UI.Converters"
        mc:Ignorable="d" d:DesignHeight="450" d:DesignWidth="800"
        Icon="/Windows/icon_sev.ico" MinWidth="800" MinHeight="500"
        Title="{Binding Title, FallbackValue='title goes here'}"
        Style="{DynamicResource WindowStyleEnglishSEV}" >

  <Window.Resources>
    <BooleanToVisibilityConverter x:Key="b2VC"/>
    <conv:AssemblyVersionConverter x:Key="AssyVersionConv"/>
    <conv:AssemblyCopyrightConverter x:Key="AssyCopyrightConv"/>
  </Window.Resources>
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>
    <TabControl Grid.Row="0"
                Style="{DynamicResource TabControlStyle}"
              TabStripPlacement="Left">
      <TabItem Header="Part Number"
             IsSelected="{Binding IsPartNumberSelected}"
      Style="{DynamicResource TabItemStyle}" >
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="1*" Name="contentRow"/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>
          <uc:Inputs Grid.Row="0"/>
          <uc:PartSimple Grid.Row="1" Margin="0,0,0,10" 
                   Visibility="{Binding IsSimplePartVisible, Converter={StaticResource b2VC}}"/>
          <uc:BomList Grid.Row="2" Margin="0,0,0,10"
                   Visibility="{Binding IsBomVisible, Converter={StaticResource b2VC}}"/>
          <uc:WhereUsedList Grid.Row="2" Margin="0,0,0,10"
                         DataContext="{Binding VMWU}"
                         Visibility="{Binding IsWhereUsedVisible, Converter={StaticResource b2VC}}"/>
          <uc:ItemMaster Grid.Row="2" Margin="0,0,0,10"
                      Visibility="{Binding IsItemMasterVisible, Converter={StaticResource b2VC}}"/>
          <uc:SearchResults Grid.Row="2" Margin="0,0,0,10"
                         DataContext="{Binding VMSR}"
                      Visibility="{Binding IsSearchResultsVisible, Converter={StaticResource b2VC}}"/>
          <Border Grid.Row="2" 
            Visibility="{Binding IsAppBusy, Converter={StaticResource b2VC}, 
      FallbackValue=hidden}"
            Background="{theme:ThemeResource ResourceKey=LightBlueTranslucent}">
            <uc:CombineSpinner/>
          </Border>
        </Grid>
      </TabItem>
      <TabItem Header="Sales Order"
             IsSelected="{Binding IsSalesOrderSelected}"
             Style="{DynamicResource TabItemStyle}" >
        <uc:SalesOrder DataContext="{Binding VMSO}"/>
      </TabItem>
      <TabItem Header="Job Order"
             IsSelected="{Binding IsJobOrderSelected}"
             Style="{DynamicResource TabItemStyle}">
        <uc:JobOrder DataContext="{Binding VMJO}"/>
      </TabItem>
    </TabControl>
    <DockPanel Grid.Row="1"
               Margin="5,1">
      <TextBlock Text="{Binding Converter={StaticResource AssyVersionConv}}"
                 Margin="2"
                 Style="{DynamicResource bodyCopy}"/>
      <TextBlock Text="{Binding Converter={StaticResource AssyCopyrightConv}}"
                 Margin="2" HorizontalAlignment="Right"
                 Style="{DynamicResource bodyCopy}"/>
    </DockPanel>
    <uc:MessageDisplay Grid.Row="0" Grid.RowSpan="2"
                       Priority="{Binding MessagePriority, FallbackValue=Warning}"
                       Message="{Binding MessageContent, FallbackValue='You have been warned!'}"
                       Visibility="{Binding IsMessageVisible, Converter={StaticResource b2VC}}"
                       VerticalAlignment="Bottom"/>
  </Grid>
</Window>
